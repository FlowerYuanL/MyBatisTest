<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
  mapper 根标签：
  - namespace（必需）：绑定 Mapper 接口的全限定名（包名+接口名）
  - 作用：建立 XML 文件与 Java 接口的关联
-->


<!--
    接口式开发：
    1.方法的名称需要保证和映射文件中的sql语句的statmentId一致
    2.namespace的值必须是接口的全路径
 -->


<mapper namespace="com.example.mapper.UserMapper">

    <!--
    id="接口中的方法名"
    parameterType="传入的参数类型"
    resultType="返回实体类对象，使用包，类名"
    -->
    <select id="findById" parameterType="int" resultType="User">
        select*from users where id = #{id}
    </select>

    <select id="findTotal" resultType="int">
        select count(*) from users
    </select>

    <!--软删除-->
    <update id="deleteById" parameterType="int">
        update users set del = 1 where id = #{id}
    </update>

    <select id="findAll" resultType="User">
        select*from users
    </select>

    <insert id="insert" parameterType="com.example.pojo.User" useGeneratedKeys="true" keyProperty="id">
        insert into users (user_name,email,password, del)
        values(
                 #{userName},#{email},#{password},#{del}
                )
    </insert>

</mapper>
